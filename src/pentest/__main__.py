import sys
import os
from os.path import join as buildpath
from pentest import __version__
from pentest.parser import JarvisParser
from pentest.manager import JarvisManager


def main(args=None):
	"""
	Main entry point for Jarvis

	Creates a user-level .jarvis directory for managing a couple of configuration
	options
	"""
	manager = JarvisManager()

	# Execute user-supplied action
	args = manager.parser.parse_args()
	if args.command == "start":
		manager.start(args.directory)

	if manager.current:
		if args.command == "edit":
			manager.edit(args.image)
		elif args.command == "stop":
			manager.stop()
		elif args.command == "init":
			manager.init()
		elif args.command == "screenshot":
			manager.screenshot()
		elif args.command == "notes":
			manager.notes()
		elif args.command == "img":
			manager.img()
		elif args.command == "hooks":
			manager.hooks()
	else:
		print("[!] Create a pentest directory first")


if __name__ == "__main__":
	main()
