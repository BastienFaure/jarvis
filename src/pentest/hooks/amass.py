from pentest.command import JarvisCmd
import sys
__name__ = "amass"


def main():
	args_config = {
		"passthrough_args": ["-do", "-log", "-json", "-o", "-oA", "-h", "--help"],
		"output_args": [
			{
				"format": None,
				"arg": "-oA"
			}
		]
	}

	cmd = JarvisCmd(sys.argv)
	cmd.set_args_config(args_config)

	for arg in cmd.args:
		if "-d" in arg:
			target = cmd.args[cmd.args.index("-d") + 1]
			del(cmd.args[cmd.args.index("-d") + 1])
			del(cmd.args[cmd.args.index("-d")])
			break
		elif "-df" in arg:
			target = "multiple-hosts"
			break
	else:
		target = cmd.args[-1].replace('/', '_')

	cmd.run(target)
