from pentest.command import JarvisCmd
from slugify import slugify
import sys

__name__ = "subjack"


def main():
	args_config = {
		"passthrough_args": ["-o", "-h"],
		"output_args": [
			{
				"format": "txt",
				"arg": "-o"
			}
		]
	}

	cmd = JarvisCmd(sys.argv)
	cmd.set_args_config(args_config)

	for idx, arg in enumerate(cmd.args):
		if "-d" in arg:
			target = cmd.args[idx + 1]
			cmd.run(target)
			break
		elif "-w" in arg:
			target = slugify(cmd.args[idx + 1])
			cmd.run(target)
			break
	else:
		cmd.run()
